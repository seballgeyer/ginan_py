{% extends 'base.jinja'%}

{% block title%}
States
{% endblock %}

{% block menuselection %}
<form method="post" class="row g-5" role="form">
  <div class="col">
      <label for="type" class="form-label">Type:</label>
      <br>
      {# <select name=type method="GET" action="/"> #}
             <select  class="selectpicker form-control" name="type" id="type"  data-container="body" data-live-search="true" 
              title="Select type" >

        {% for key_ in extra['plotType'] %}
        {% if selection is defined and selection['type']|length and key_ in selection['type']%}
        <option value="{{key_}}" SELECTED>{{key_}}</option>"
        {%else%}
        <option value="{{key_}}">{{key_}}</option>"
        {%endif%}
        {% endfor %}
      </select>
  </div>
  <div class="col">
        <label for="series" class="form-label">Series:</label>
        <br>
      {# <select name="series" multiple method="GET" style="width: 300px;" action="/"> #}
        <select multiple class="selectpicker form-control" name="series" id="series"  data-container="body" data-live-search="true" 
              title="Select series" data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false">

          {% for series_ in session['list_series'] %}
          {% if selection is defined and selection['series']|length and series_ in selection['series']%}
          <option value="{{series_}}" SELECTED>{{series_}}</option>"
          {%else%}
          <option value="{{series_}}">{{series_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
  </div>
  <div class="col">
      <label for="sat" class="form-label">Satellite:</label>
      <br>
        {# <select name=sat multiple method="GET" action="/"> #}
                <select multiple class="selectpicker form-control" name="sat" id="sat"  data-container="body" data-live-search="true" 
              title="Select satellite" data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false">

          {% for sat_ in session['list_sat'] %}
          {% if selection is defined and selection['sat']|length and sat_ in selection['sat']%}
          <option value="{{sat_}}" SELECTED>{{sat_}}</option>"
          {%else%}
          <option value="{{sat_}}">{{sat_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
  </div>
  <div class="col">
      <label for="site" class="form-label">Site:</label>
      <br>
        {# <select name=site multiple method="GET" action="/"> #}
        <select multiple class="selectpicker form-control" name="site" id="site"  data-container="body" data-live-search="true" 
              title="Select sites" data-hide-disabled="true" data-actions-box="true" data-virtual-scroll="false">

          {% for site_ in session['list_site'] %}
          {% if selection is defined and selection['site']|length and site_ in selection['site']%}
          <option value="{{site_}}" SELECTED>{{site_}}</option>"
          {%else%}
          <option value="{{site_}}">{{site_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
</div>
<div class="col">
<label for="state" class="form-label">State:</label>
<br>
        {# <select name=state method="GET" action="/"> #}
        <select class="selectpicker form-control" name="state" id="state"  data-container="body" data-live-search="true" 
                title="Select state">

          {% for key_ in session['list_state'] %}
          {% if selection is defined and selection['state']|length and key_ in selection['state']%}
          <option value="{{key_}}" SELECTED>{{key_}}</option>"
          {%else%}
          <option value="{{key_}}">{{key_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
</div>
<div class="col">
<label for="yaxis" class="form-label">Y-Axis:</label>
<br>
        {# <select name=yaxis multiple method="GET" action="/"> #}
        <select multiple class="selectpicker form-control" name="yaxis" id="yaxis"  data-container="body" data-live-search="true" >
          {% for key_ in extra["stateField"] %}
          {% if selection is defined and selection['yaxis']|length and key_ in selection['yaxis']%}
          <option value="{{key_}}" SELECTED>{{key_}}</option>"
          {%else%}
          <option value="{{key_}}">{{key_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
      </div>
<div class="col">
  <label for="degree" class="form-label">Degree:</label>
  <div class="d-flex align-items-center">
    <input type="range" min="0" max="3" value="1" class="form-range" id="degree" name="degree" list="degree-ticks">
    <datalist id="degree-ticks">
      <option value="0"></option>
      <option value="1"></option>
      <option value="2"></option>
      <option value="3"></option>
    </datalist>
  </div>
</div>
<div class="col">
<label for="process">Pre processing:</label>
      {# <select name=process method="GET" action="/"> #}
      <select  class="selectpicker form-control" name="process" id="process"  data-container="body" data-live-search="true" 
              title="Preprocessing" >
        <option value="None">None</option>
        <option value="Fit">Fit</option>
        <option value="Detrend">Detrend</option>
      </select>
    </div>

    <div class="col">
      <label for="exclude">Exclude the first (min):</label>
      {# <input type="text" id="exclude" name="exclude" value="{{ exclude }}"> #}
      <input type="text" class="form-control" id="exclude" name="exclude" placeholder="exclude" value="{{ exclude }}">

    </div>

    <input type="submit" value="PLOT">
</form>
{% endblock %}