{% extends 'base.jinja'%}

{% block title%}
States
{% endblock %}

{% block menuselection %}
<form method="post" class="row g-5">
  <div class="col">
      <label for="type" class="form-label">Type:</label>
      <br>
      <select name=type method="GET" action="/">
        {% for key_ in extra['plotType'] %}
        {% if selection is defined and selection['type']|length and key_ in selection['type']%}
        <option value="{{key_}}" SELECTED>{{key_}}</option>"
        {%else%}
        <option value="{{key_}}">{{key_}}</option>"
        {%endif%}
        {% endfor %}
      </select>
  </div>
  <div class="col">
        <label for="series" class="form-label">Series:</label>
        <br>
        <select name="series" multiple method="GET" style="width: 300px;" action="/">
          {% for series_ in session['list_series'] %}
          {% if selection is defined and selection['series']|length and series_ in selection['series']%}
          <option value="{{series_}}" SELECTED>{{series_}}</option>"
          {%else%}
          <option value="{{series_}}">{{series_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
  </div>
  <div class="col">
      <label for="sat" class="form-label">Satellite:</label>
      <br>
        <select name=sat multiple method="GET" action="/">
          {% for sat_ in session['list_sat'] %}
          {% if selection is defined and selection['sat']|length and sat_ in selection['sat']%}
          <option value="{{sat_}}" SELECTED>{{sat_}}</option>"
          {%else%}
          <option value="{{sat_}}">{{sat_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
  </div>
  <div class="col">
      <label for="site" class="form-label">Site:</label>
      <br>
        <select name=site multiple method="GET" action="/">
          {% for site_ in session['list_site'] %}
          {% if selection is defined and selection['site']|length and site_ in selection['site']%}
          <option value="{{site_}}" SELECTED>{{site_}}</option>"
          {%else%}
          <option value="{{site_}}">{{site_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
</div>
<div class="col">
<label for="state" class="form-label">State:</label>
<br>
        <select name=state method="GET" action="/">
          {% for key_ in session['list_state'] %}
          {% if selection is defined and selection['state']|length and key_ in selection['state']%}
          <option value="{{key_}}" SELECTED>{{key_}}</option>"
          {%else%}
          <option value="{{key_}}">{{key_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
</div>
<div class="col">
<label for="yaxis" class="form-label">Y-Axis:</label>
<br>
        <select name=yaxis multiple method="GET" action="/">
          {% for key_ in extra["stateField"] %}
          {% if selection is defined and selection['yaxis']|length and key_ in selection['yaxis']%}
          <option value="{{key_}}" SELECTED>{{key_}}</option>"
          {%else%}
          <option value="{{key_}}">{{key_}}</option>"
          {%endif%}
          {% endfor %}
        </select>
      </div>
<div class="col">
  <label for="degree" class="form-label">Degree:</label>
  <div class="d-flex align-items-center">
    <input type="range" min="0" max="3" value="1" class="form-range" id="degree" name="degree" list="degree-ticks">
    <datalist id="degree-ticks">
      <option value="0"></option>
      <option value="1"></option>
      <option value="2"></option>
      <option value="3"></option>
    </datalist>
  </div>
</div>
<div class="col">
<label for="process">Pre processing:</label>
      <select name=process method="GET" action="/">
        <option value="None">None</option>
        <option value="Fit">Fit</option>
        <option value="Detrend">Detrend</option>
      </select>
    </div>

    <div>
      <label for="exclude">Exclude the first (min):</label>
      <input type="text" id="exclude" name="exclude" value="{{ exclude }}">
    </div>

    <input type="submit" value="PLOT">
</form>
{% endblock %}